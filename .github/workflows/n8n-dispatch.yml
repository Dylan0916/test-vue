name: N8N Dispatch Workflow

on:
  workflow_dispatch:
    inputs:
      test_message:
        description: 'æ¸¬è©¦è¨Šæ¯'
        required: false
        default: 'ä¾†è‡ª n8n çš„æ¸¬è©¦'
        type: string
      trigger_type:
        description: 'è§¸ç™¼é¡å‹'
        required: false
        default: 'n8n-trigger'
        type: string

jobs:
  test-job:
    runs-on: ubuntu-latest
    steps:
      - name: Log test message
        run: |
          echo "ğŸš€ N8N Dispatch Workflow å·²æˆåŠŸè§¸ç™¼ï¼"
          echo "ğŸ“… åŸ·è¡Œæ™‚é–“: $(date)"
          echo "ğŸ”§ è§¸ç™¼æ–¹å¼: ${{ github.event_name }}"
          echo "ğŸ“ æ¸¬è©¦è¨Šæ¯: ${{ github.event.inputs.test_message || 'é è¨­æ¸¬è©¦è¨Šæ¯' }}"
          echo "ğŸ·ï¸ è§¸ç™¼é¡å‹: ${{ github.event.inputs.trigger_type || github.event.action || 'n8n-trigger' }}"
          if [ "${{ github.event_name }}" = "repository_dispatch" ]; then
            echo "ğŸ“¦ äº‹ä»¶è³‡æ–™: ${{ toJson(github.event.client_payload) }}"
          fi
          echo "âœ… æ¸¬è©¦å®Œæˆï¼"
      - name: Additional test output
        run: |
          echo "ğŸ¯ é€™æ˜¯ä¸€å€‹ä¾†è‡ª n8n çš„æ¸¬è©¦è§¸ç™¼"
          echo "ğŸ“Š å·¥ä½œæµç¨‹ç‹€æ…‹: æˆåŠŸåŸ·è¡Œ"
          echo "ğŸ”— è§¸ç™¼ä¾†æº: GitHub Repository Dispatch"
          echo "â° åŸ·è¡Œç’°å¢ƒ: Ubuntu Latest"
